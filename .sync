#!/usr/bin/env bash

set -o errexit -o nounset -o pipefail

source="${PWD}/"
target="${1:-${HOME}/.local/bin}"

rsyncArgs=(
"--archive"  # archive: syncs recursively including metadata and permissions
"--update"  # skip if destination is newer
"--verbose"
#"--progress"
"--exclude-from=./.sync-exclude"
)

rsync "${rsyncArgs[@]}" "${source}" "${target}"
